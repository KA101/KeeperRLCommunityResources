Def resetgore()
SetFlag "gore_01" false
SetFlag "gore_02" false
SetFlag "gore_03" false
SetFlag "gore_04" false
SetFlag "gore_05" false
SetFlag "gore_06" false
SetFlag "gore_07" false
SetFlag "gore_08" false
SetFlag "gore_09" false
End

Def countgore()
Filter Flag "gore_08" {
    Filter Not Flag "gore_09" {
           SetFlag "gore_09" true
        }
    }
Filter Flag "gore_07" {
    Filter Not Flag "gore_08" {
           SetFlag "gore_08" true
        }
    }
Filter Flag "gore_06" {
    Filter Not Flag "gore_07" {
           SetFlag "gore_07" true
        }
    }
Filter Flag "gore_05" {
    Filter Not Flag "gore_06" {
           SetFlag "gore_06" true
        }
    }
Filter Flag "gore_04" {
    Filter Not Flag "gore_05" {
           SetFlag "gore_05" true
        }
    }
Filter Flag "gore_03" {
    Filter Not Flag "gore_04" {
           SetFlag "gore_04" true
        }
    }
Filter Flag "gore_02" {
    Filter Not Flag "gore_03" {
           SetFlag "gore_03" true
        }
    }
Filter Flag "gore_01" {
    Filter Not Flag "gore_02" {
           SetFlag "gore_02" true
        }
    }
Filter Not Flag "gore_01" {
       SetFlag "gore_01" true
    }
	
End

Def PromoteGore()
 Chain
			        {
			     Filter CreatureId "EG_GORE_SPAWN"
				    {
					Filter	CreatureFlag "promotion_2" {
					    IncreaseMaxLevel BLESSED_FLESH 1
                        IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
					    IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
                        IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
					    IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_gore_spawn_2"}	
                        IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 4
						IncreaseAttr "DEFENSE" 4
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }
					
			     Filter CreatureId "EG_GORE_PORCUPINE_UPGRADE"
				    {
					Filter	CreatureFlag "promotion_2" {
					    IncreaseMaxLevel BLESSED_FLESH 1
                        IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 1			
						IncreaseAttr "RANGED_DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
					    IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"		
                        IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 1						
						IncreaseAttr "RANGED_DAMAGE" 3
						IncreaseAttr "DEFENSE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
					    IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_gore_porcupine_2"}	
                        IncreaseAttr "BLESSED_FLESH" 2						
						IncreaseAttr "DAMAGE" 1						
						IncreaseAttr "RANGED_DAMAGE" 4
						IncreaseAttr "DEFENSE" 1
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }
					
				Filter CreatureId "EG_GORE_FAMILLIAR"
				    {
					Filter	CreatureFlag "promotion_2" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "SPELL_DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "BLESSED_FLESH" 1	
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "SPELL_DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_gore_familliar_2"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "SPELL_DAMAGE" 2
						IncreaseAttr "DEFENSE" 2
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }

				Filter CreatureId "EG_GORE_REBORN"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						RemovePermanent SLOWED
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						SetViewId {"eg_gore_reborn_2"}		
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }


				Filter CreatureId "EG_GORE_SPLITER"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "ACID_DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "ACID_DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						RemovePermanent SLOWED
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						SetViewId {"eg_gore_violate_splitter_2"}		
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "ACID_DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }
					
				Filter CreatureId "EG_GORE_TREE"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_gore_tree_2"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DAMAGE" 4
						IncreaseAttr "DEFENSE" 3
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }

				Filter CreatureId "EG_GORE_CRAWLER"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_gore_crawler_01"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }
					
			     Filter CreatureId  "EG_CULTIST"
			    	{
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"		
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 2						
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_gore"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						SetCreatureFlag "promotion_1" true
						}
                    }
					
			     Filter CreatureId  "EG_CULTIST_F"
			    	{
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"		
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 2						
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_gore_f"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "WORKSHOP" 2
						IncreaseAttr "FORGE" 2
						IncreaseAttr "LABORATORY" 2
						IncreaseAttr "JEWELER" 2
						IncreaseAttr "FURNACE" 2
						IncreaseAttr "DIGGING" 2
						SetCreatureFlag "promotion_1" true
						}
                    }
										
			     Filter CreatureId  "EG_CULTIST_DEFENDER"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 3
						IncreaseAttr "DAMAGE" 2
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_defender_gore"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DAMAGE" 4
						IncreaseAttr "DEFENSE" 6
						IncreaseMaxLevel DAMAGE 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						SetCreatureFlag "promotion_1" true
						}
                    }		
										
			     Filter CreatureId  "EG_CULTIST_DEFENDER_F"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 3
						IncreaseAttr "DAMAGE" 2
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_defender_gore_f"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DAMAGE" 4
						IncreaseAttr "DEFENSE" 6
						IncreaseMaxLevel DAMAGE 1
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						SetCreatureFlag "promotion_1" true
						}
                    }		
										
			     Filter CreatureId  "EG_CULTIST_RITUALIST"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "SPELL_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 2					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "SPELL_DAMAGE" 3
						IncreaseMaxLevel SPELL_DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
						Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_ritualist_gore"}	
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "BLESSED_FLESH" 3
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "SPELL_DAMAGE" 6
						IncreaseMaxLevel SPELL_DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }					
										
			     Filter CreatureId  "EG_CULTIST_RITUALIST_F"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "SPELL_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 2					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "SPELL_DAMAGE" 3
						IncreaseMaxLevel SPELL_DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
						Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_ritualist_gore_f"}			
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "BLESSED_FLESH" 3
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "SPELL_DAMAGE" 6
						IncreaseMaxLevel SPELL_DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }					
										
			     Filter CreatureId   "EG_CULTIST_ARCHER"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "RANGED_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "RANGED_DAMAGE" 3
						IncreaseMaxLevel RANGED_DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_archer_gore"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "RANGED_DAMAGE" 6
						IncreaseMaxLevel RANGED_DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }
										
			     Filter CreatureId   "EG_CULTIST_ARCHER_F"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "RANGED_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "RANGED_DAMAGE" 3
						IncreaseMaxLevel RANGED_DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_archer_gore_f"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "RANGED_DAMAGE" 6
						IncreaseMaxLevel RANGED_DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }

			     Filter CreatureId   "EG_CULTIST_TEMPLAR"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "SPELL_SPEED" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"					
						Permanent SPEED
						IncreaseAttr "BLESSED_FLESH" 2
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_SPEED" 2
						IncreaseMaxLevel SPELL_DAMAGE 1
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_templar_gore"}	
						IncreaseAttr "BLESSED_FLESH" 2
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_SPEED" 2
						Permanent REGENERATION
						IncreaseMaxLevel SPELL_DAMAGE 2
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }

			     Filter CreatureId   "EG_CULTIST_TEMPLAR_F"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "SPELL_SPEED" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"					
						Permanent SPEED
						IncreaseAttr "BLESSED_FLESH" 2
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_SPEED" 1
						IncreaseMaxLevel SPELL_DAMAGE 1
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_templar_gore"}	
						IncreaseAttr "BLESSED_FLESH" 2
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_SPEED" 1
						Permanent REGENERATION
						IncreaseMaxLevel SPELL_DAMAGE 2
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }
										
			     Filter CreatureId  "HUSKY"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_dog_gore"}
						AddBodyPart ARM 1  { Intrinsic { "claws_attack" } "claws" 10 {
											 attackType = HIT
											 attackMsg = CLAW
											 victimEffect = {1 Lasting 50 POISON }}}
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						SetCreatureFlag "promotion_1" true
						}
                    }		
			     Filter CreatureId  "DOG"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_dog_gore"}
						AddBodyPart ARM 1  { Intrinsic { "claws_attack" } "claws" 10 {
											 attackType = HIT
											 attackMsg = CLAW
											 victimEffect = {1 Lasting 50 POISON }}}
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						SetCreatureFlag "promotion_1" true
						}
                    }		
															
			     Filter CreatureId  "WOLF"
				    {
					Filter	CreatureFlag "promotion_2" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_dog_gore"}
						AddBodyPart ARM 1  { Intrinsic { "claws_attack" } "claws" 10 {
											 attackType = HIT
											 attackMsg = CLAW
											 victimEffect = {1 Lasting 50 POISON }}}
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						SetCreatureFlag "promotion_1" true
						}
                    }		
						
			     Filter CreatureId "HORSE"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"		
                        GrantAbility "warhorse_haste"						
						Permanent SPEED
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_horse_gore"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 3
						IncreaseAttr "DAMAGE" 1
						Permanent REGENERATION
						SetCreatureFlag "promotion_1" true
						}
                    }
					
			     Filter CreatureId   "DARK_ELF_WARRIOR"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "SPELL_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"					
						Permanent SPEED
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_DAMAGE" 2
						IncreaseMaxLevel SPELL_DAMAGE 1
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {		
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_dark_elf_warrior_gore"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "SPELL_DAMAGE" 2
						Permanent REGENERATION
						IncreaseMaxLevel SPELL_DAMAGE 2
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }

			     Filter CreatureId   "GOBLIN_WARRIOR"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_goblin_warrior_gore"}
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }					

			     Filter CreatureId   "GOBLIN_WARRIOR_VILLAIN"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_goblin_warrior_gore"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseMaxLevel DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }	
							
			     Filter CreatureId   "HARPY"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "RANGED_DAMAGE" 1
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						AddSpellSchool "EG_GROWTH"	
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "RANGED_DAMAGE" 2
						IncreaseMaxLevel RANGED_DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {	
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_harpy_gore"}
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DEFENSE" 2
						Permanent REGENERATION
						Permanent NIGHT_VISION 
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "RANGED_DAMAGE" 4
						IncreaseMaxLevel RANGED_DAMAGE 2
						SetCreatureFlag "promotion_1" true
						}
                    }		
										
			     Filter CreatureId  "VAMPIRE"
				    {
					Filter	CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1					
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "DAMAGE" 2
						}
					Filter	CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1
						AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "DAMAGE" 4
						IncreaseMaxLevel DAMAGE 1
						SetCreatureFlag "promotion_2" true
						}
					Filter Not CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_vampire_varrior_gore"}	
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DAMAGE" 8
						IncreaseAttr "DEFENSE" 4
						IncreaseMaxLevel DAMAGE 2
						Permanent DARKNESS_SOURCE
						Permanent REGENERATION
						Permanent SPEED 
						SetCreatureFlag "promotion_1" true
						}
                    }		

			     Filter Or { CreatureId "EG_GORE_VESSEL" CreatureId "EG_GORE_VESSEL_F"}
				    {
					Filter CreatureFlag "promotion_4" {		
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 2					
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
						IncreaseAttr "SPELL_DAMAGE" 1
					}
					Filter CreatureFlag "promotion_3" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_evangelist_04"}	
						IncreaseAttr "BLESSED_FLESH" 2					
						IncreaseAttr "SPELL_DAMAGE" 2
						IncreaseAttr "DEFENSE" 1
						Permanent FLYING
						AddBodyPart ARM 2  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						SetCreatureFlag "promotion_4" true
						}
					Filter Not CreatureFlag "promotion_3"	{
					Filter CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_evangelist_03"}
						IncreaseAttr "BLESSED_FLESH" 2
						IncreaseAttr "SPELL_DAMAGE" 2
						IncreaseAttr "DEFENSE" 1							
						AddBodyPart ARM 2  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						SetCreatureFlag "promotion_3" true
						}
					Filter Not CreatureFlag "promotion_2"	{
					Filter CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_evangelist_02"}
						IncreaseAttr "BLESSED_FLESH" 2						
                        AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						IncreaseAttr "SPELL_DAMAGE" 3
						SetCreatureFlag "promotion_2" true
						}
                    Filter Not CreatureFlag "promotion_1"	{
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_evangelist_01"}
						IncreaseAttr "BLESSED_FLESH" 2						
						IncreaseAttr "DAMAGE" 2
						IncreaseAttr "DEFENSE" 2
						IncreaseAttr "SPELL_DAMAGE" 2
						SetCreatureFlag "promotion_1" true
						}
                    }}}		

			     Filter Or { CreatureId "EG_GORE_MELEE_VESSEL" CreatureId "EG_GORE_MELEE_VESSEL_F"}
				    {
					Filter CreatureFlag "promotion_4" {		
						IncreaseMaxLevel BLESSED_FLESH 1
						IncreaseAttr "BLESSED_FLESH" 1				
						IncreaseAttr "DAMAGE" 1
						IncreaseAttr "DEFENSE" 1
					}
					Filter CreatureFlag "promotion_3" {
						IncreaseMaxLevel BLESSED_FLESH 1
						SetViewId {"eg_cultist_champion_04"}	
						IncreaseAttr "BLESSED_FLESH" 1				
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						Permanent FLYING
						AddBodyPart ARM 2  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						SetCreatureFlag "promotion_4" true
						}
					Filter Not CreatureFlag "promotion_3"	{
					Filter CreatureFlag "promotion_2" {
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_champion_03"}
						IncreaseAttr "BLESSED_FLESH" 1
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3						
						AddBodyPart ARM 2  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						SetCreatureFlag "promotion_3" true
						}
					Filter Not CreatureFlag "promotion_2"	{
					Filter CreatureFlag "promotion_1" {
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_champion_02"}
						IncreaseAttr "BLESSED_FLESH" 1						
                        AddSpellSchool "EG_GROWTH"					
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						SetCreatureFlag "promotion_2" true
						}
                    Filter Not CreatureFlag "promotion_1"	{
						IncreaseMaxLevel BLESSED_FLESH 1
					    SetViewId {"eg_cultist_champion_01"}
                        AddSpellSchool "EG_BASE_MAGIC"	
						IncreaseAttr "BLESSED_FLESH" 1						
						IncreaseAttr "DAMAGE" 3
						IncreaseAttr "DEFENSE" 3
						SetCreatureFlag "promotion_1" true
						}
                    }}}
					
		     }
End

Def resetcosmos()
SetFlag "cosmos_01" false
SetFlag "cosmos_02" false
SetFlag "cosmos_03" false
SetFlag "cosmos_04" false
SetFlag "cosmos_05" false
End

Def countcosmos()
Filter Flag "cosmos_04" {
    Filter Not Flag "cosmos_05" {
           SetFlag "cosmos_05" true
        }
    }
Filter Flag "cosmos_03" {
    Filter Not Flag "cosmos_04" {
           SetFlag "cosmos_04" true
        }
    }
Filter Flag "cosmos_02" {
    Filter Not Flag "cosmos_03" {
           SetFlag "cosmos_03" true
        }
    }
Filter Flag "cosmos_01" {
    Filter Not Flag "cosmos_02" {
           SetFlag "cosmos_02" true
        }
    }
Filter Not Flag "cosmos_01" {
       SetFlag "cosmos_01" true
    }
	
End


##################################Endless Growth##################################

"EG_BREEDING_PIT"
{
  name = "Pit"
  viewId = { "mud" }
  tickType = Effect Chance 0.05 Filter
    And {
      IsClosedOffPigsty
      CanCreatureEnter
      Area 1 Not CreatureId "EG_HUMAN_CATTLE"
    }
    Summon "EG_HUMAN_CATTLE" 1 1000
  populationIncrease = { 0.25 4 true }
}

"EG_GORE_SHRINE"
{
  name = "Blessed Growth shrine"
  viewId = { "eg_gore_shrine" }
  blockMovement = true
  usageTime = 5
  usageType = BuiltinUsageId DEMON_RITUAL
  luxury = 0.4
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}

"EG_GORE_ALTAR"
{
  name = "Fleshshaper Altar"
  viewId = { "eg_gore_altar" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
		    SetFlag "lore_flesh_shaper" true
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_08" {	
			Filter Not Flag "gore_04" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            } 
			Filter Flag "gore_04" 
			{
			                 Area 1 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 PromoteGore()
            }}
			Filter Flag "gore_08"
			{
						     Area 1 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 PromoteGore()
							 PromoteGore()
            } 
        }
	}
}

"EG_GORE_ALTAR_WG"
{
  name = "World-growth Altar"
  viewId = { "eg_gore_altar_wg" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_04" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            } 
			Filter Not Flag "gore_08" {	
			Filter Flag "gore_04" 
			{
			                 Area 2 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 Filter CreatureFlag "wg_promotion_1"
							 {
							 AddSpellSchool "EG_GROWTH_MAGIC_01"
							 }
							 AddSpellSchool "EG_GROWTH_MAGIC_02"
							 IncreaseAttr BLESSED_FLESH 1
            }}
			Filter Flag "gore_08"
			{
						     Area 2 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 AddSpellSchool "EG_GROWTH_MAGIC_02"
							 AddSpellSchool "EG_GROWTH_MAGIC_01"
							 IncreaseAttr BLESSED_FLESH 2
            }
        }
        }
}

"EG_GORE_ALTAR_BM"
{
  name = "Blood-Memory Altar"
  viewId = { "eg_gore_altar_bm" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_08" {	
			Filter Not Flag "gore_04" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            }
			Filter Flag "gore_04" 
			{
			                 Area 2 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 Filter CreatureFlag "bm_promotion_1"
							 {
							 SetCreatureFlag "eg_better_spells" true
							 }
							 AddSpellSchool "EG_WISDOM_MAGIC"	
							 IncreaseAttr SPELL_SPEED 1
            }}
			Filter Flag "gore_08"
			{
						     Area 2 PlaceFurniture "EG_GROWTH_FLOOR"
						     Area 1 RemoveFurniture "EG_OFFERING"
							 AddSpellSchool "EG_WISDOM_MAGIC"
                             SetCreatureFlag "eg_better_spells" true
							 IncreaseAttr SPELL_SPEED 2
            }
        }
        }
}

"EG_CULT_FLOOR"
{
  name = "floor"
  viewId = { "eg_cult_tile_01" }
  fire = 50
  luxury = 0.2
  layer = FLOOR
}

"EG_SACRED_FOUNTAIN"
{
  name = "fountain"
  viewId = { "eg_gore_altar_mountaintop" }
  canHideHere = true
  luxury = 0.7
  usageType = UsageEffect "drink from"
      {
        CreatureMessage { "take a sip" "takes a sip"}
		Filter Not Flag "EG_FOUNTAINDRUNK"{
        SetFlag "EG_FOUNTAINDRUNK" true
        Polymorph "EG_GORE_FLESHWRAITH_ADV" none}
		Filter Flag "EG_FOUNTAINDRUNK"{
		   Filter Not CreatureFlag "EG_FOUNTAINDRUNK"{
		     Chain{
					IncreaseAttr "BLESSED_FLESH" 1
					ChooseRandom {
                        IncreaseAttr SPELL_DAMAGE 1
						IncreaseAttr DAMAGE 1
						IncreaseAttr DEFENSE 1					
						Permanent SWIMMING_SKILL
						Permanent SPEED 
						Permanent MAGIC_RESISTANCE
						Permanent FIRE_RESISTANT
						Permanent AMBUSH_SKILL	
                        Permanent BLIND 	
                        IncreaseAttr DIGGING 16		
						AddBodyPart ARM 1 none
						AddBodyPart LEG 1 none
						AddBodyPart HEAD 1 none
						AddBodyPart WING 1 none
						AddBodyPart ARM 1  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						AddBodyPart LEG 1  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						AddBodyPart HEAD 1 { Intrinsic { "bite_attack" }  "fangs" 7 { attackType = BITE attackMsg = BITE} }
						AddBodyPart WING 1 { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						IncreaseAttr MULTI_WEAPON 8	}
				    Filter CreatureFlag "eg_better_spells"{
					IncreaseAttr "BLESSED_FLESH" 1
					ChooseRandom {
                        IncreaseAttr SPELL_DAMAGE 1
						IncreaseAttr DAMAGE 1
						IncreaseAttr DEFENSE 1					
						Permanent SWIMMING_SKILL
						Permanent SPEED 
						Permanent MAGIC_RESISTANCE
						Permanent FIRE_RESISTANT
						Permanent AMBUSH_SKILL	
                        Permanent BLIND 	
                        IncreaseAttr DIGGING 16	
						AddBodyPart ARM 1 none
						AddBodyPart LEG 1 none
						AddBodyPart HEAD 1 none
						AddBodyPart WING 1 none
						AddBodyPart ARM 1  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						AddBodyPart LEG 1  { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						AddBodyPart HEAD 1 { Intrinsic { "bite_attack" }  "fangs" 7 { attackType = BITE attackMsg = BITE} }
						AddBodyPart WING 1 { Intrinsic { "claws_attack" } "claws" 8 { attackType = HIT attackMsg = CLAW } }
						IncreaseAttr MULTI_WEAPON 8	} }}
				  SetCreatureFlag "EG_FOUNTAINDRUNK" true}
                  Chain {
                                 Heal { FLESH }
		  						 RemoveLasting POISON
								 RemoveLasting PLAGUE
                                 RegrowBodyPart 10  
								 RemoveLasting BLIND }}
      }
  summonedElement = "EG_BLOOD_PHANTOM"
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}

Def GoreInfestation()
{
Chain {
     Area 1 Filter FurnitureType "MOUNTAIN" {
	 RemoveFurniture "MOUNTAIN"
     PlaceFurniture "MOUNTAIN1_OVERGROWN"}
     Area 1 Filter FurnitureType "MOUNTAIN2" {
	 RemoveFurniture "MOUNTAIN2"
     PlaceFurniture "MOUNTAIN2_OVERGROWN"}
	 Area 1 Filter FurnitureType "DUNGEON_WALL" {
	 RemoveFurniture "DUNGEON_WALL"
     PlaceFurniture "MOUNTAIN2_OVERGROWN"}
	 Area 1 Filter FurnitureType "DUNGEON_WALL2" {
	 RemoveFurniture "DUNGEON_WALL2"
     PlaceFurniture "MOUNTAIN2_OVERGROWN"}
	 Area 1 Filter FurnitureType "RUIN_WALL" {
	 RemoveFurniture "RUIN_WALL"
     PlaceFurniture "RUIN_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "MUD_WALL" {
	 RemoveFurniture "MUD_WALL"
     PlaceFurniture "MUD_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "WOOD_WALL" {
	 RemoveFurniture "WOOD_WALL"
     PlaceFurniture "WOOD_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "SNOW_WALL" {
	 RemoveFurniture "SNOW_WALL"
     PlaceFurniture "SNOW_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "ARCHER_WALL" {
	 RemoveFurniture "ARCHER_WALL"
     PlaceFurniture "ARCHER_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "CASTLE_WALL" {
	 RemoveFurniture "CASTLE_WALL"
     PlaceFurniture "CASTLE_WALL_OVERGROWN"}
	 Area 1 Filter FurnitureType "MOUNTAIN_SKULLS" {
	 RemoveFurniture "MOUNTAIN_SKULLS"
     PlaceFurniture "MOUNTAIN_SKULLS_OVERGROWN"}
	 Area 1 Filter FurnitureType "WALL_SKULLS" {
	 RemoveFurniture "WALL_SKULLS"
     PlaceFurniture "MOUNTAIN_SKULLS_OVERGROWN"}
	 Area 1 Filter FurnitureType "GLACIER_OVERGROWN" {
	 RemoveFurniture "GLACIER_OVERGROWN"
     PlaceFurniture "GLACIER"}
	 Area 1 Filter FurnitureType "RED_SANDSTONE" {
	 RemoveFurniture "RED_SANDSTONE"
     PlaceFurniture "RED_SANDSTONE"}
	 Area 1 Filter FurnitureType "ADAMANTIUM_ORE" {
	 RemoveFurniture "ADAMANTIUM_ORE"
     PlaceFurniture "ADAMANTIUM_ORE_OVERGROWN"}
	 Area 1 Filter FurnitureType "ADOXIUM_ORE" {
	 RemoveFurniture "ADOXIUM_ORE"
     PlaceFurniture "ADOXIUM_ORE_OVERGROWN"}
	 Area 1 Filter FurnitureType "INFERNITE_ORE" {
	 RemoveFurniture "INFERNITE_ORE"
     PlaceFurniture "INFERNITE_ORE_OVERGROWN"}
	 Area 1 Filter FurnitureType "IRON_ORE" {
	 RemoveFurniture "IRON_ORE"
     PlaceFurniture "IRON_ORE_OVERGROWN"}
	 Area 1 Filter FurnitureType "STONE" {
	 RemoveFurniture "STONE"
     PlaceFurniture "STONE_OVERGROWN"}
	 Area 1 Filter FurnitureType "GOLD_ORE" {
	 RemoveFurniture "GOLD_ORE"
     PlaceFurniture "GOLD_ORE_OVERGROWN"}
     Area 0 Filter FurnitureType "TREE_TRUNK" {
	 RemoveFurniture "TREE_TRUNK"
     PlaceFurniture "TREE_TRUNK_OVERGROWN"}
     Area 0 Filter FurnitureType "BURNT_TREE" {
	 RemoveFurniture "BURNT_TREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "CANIF_TREE" {
	 RemoveFurniture "CANIF_TREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "DECID_TREE" {
	 RemoveFurniture "DECID_TREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "TREE_SNOW" {
	 RemoveFurniture "TREE_SNOW"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "SWAMPTREE" {
	 RemoveFurniture "SWAMPTREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "PALM_TREE" {
	 RemoveFurniture "PALM_TREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "GUM_TREE" {
	 RemoveFurniture "GUM_TREE"
     PlaceFurniture "TREE_OVERGROWN"}
     Area 0 Filter FurnitureType "GIANT_MUSHROOM" {
	 RemoveFurniture "GIANT_MUSHROOM"
     PlaceFurniture "GIANT_MUSHROOM_OVERGROWN"}
	 Area 0 Filter FurnitureType "CACTUS1" {
	 RemoveFurniture "CACTUS1"
     PlaceFurniture "CACTUS1_OVERGROWN"}
	 Area 0 Filter FurnitureType "BUSH" {
	 RemoveFurniture "BUSH"
     PlaceFurniture "EG_INERT_GROWTH_TUMOR"}
	 Area 0 Filter FurnitureType "SWAMPPLANT" {
	 RemoveFurniture "SWAMPPLANT"
     PlaceFurniture "EG_INERT_GROWTH_TUMOR"}
	 Area 0 Filter FurnitureType "TERMITE_MOUND" {
	 RemoveFurniture "TERMITE_MOUND"
     PlaceFurniture "EG_INERT_GROWTH_TUMOR"}
	 Area 0 Filter FurnitureType "STONES" {
	 RemoveFurniture "STONES"}
	 Area 0 Filter FurnitureType "FLOWER1" {
	 RemoveFurniture "FLOWER1"}
	 Area 0 Filter FurnitureType "FLOWER2" {
	 RemoveFurniture "FLOWER2"}
	 Area 0 Filter FurnitureType "FLOWER3" {
	 RemoveFurniture "FLOWER3"}
	 Area 0 Filter FurnitureType "FLOWER3" {
	 RemoveFurniture "FLOWER3"}}}
End 

"EG_GROWTH_FLOOR"
{
  name = "floor"
  viewId = { "eg_gore_floorgrowth" }
  fire = 50
  luxury = 0.2
  layer = FLOOR
  tickType = Effect Chain{
     GoreInfestation()
	 Chance 0.003 {PlaceFurniture "EG_INERT_GROWTH_TUMOR"}
	 RemoveFurniture "EG_GROWTH_FLOOR"
	 ChooseRandom{
	 PlaceFurniture "EG_GROWTH_FLOOR_FINISH"
	 PlaceFurniture "EG_GROWTH_FLOOR_FINISH_2"
	 }
  }
}

"EG_GROWTH_FLOOR_FINISH"
{
  name = "floor"
  viewId = { "eg_gore_floorgrowth_01" }
  fire = 50
  luxury = 0.2
  layer = FLOOR
}

"EG_GROWTH_FLOOR_FINISH_2"
{
  name = "floor"
  viewId = { "eg_gore_floorgrowth_02" }
  fire = 50
  luxury = 0.2
  layer = FLOOR
}

"EG_GROWTH_FLOOR_GROUND"
{
  name = "floor"
  viewId = { "eg_gore_floorgrowth" }
  fire = 50
  luxury = 0.2
  layer = GROUND
}

"FLOOR" modify append
{
  builtOver = append {"EG_GROWTH_FLOOR_GROUND"}
}
"EG_GROWTH_WALL"
{
  name = "flesh"
  viewId = { "eg_gore_wallgrowth" }
  blockMovement = true
  blockAllVision = true
  constructMessage = FILL_UP
  viewLayer = FLOOR_BACKGROUND
  wall = true
  fire = 50
  tickType = Effect Filter Area 0 Not FurnitureType "EG_GROWTH_WALL" {
	  Area 0 RemoveFurniture "EG_GROWTH_WALL"
	  ChooseRandom {
	  Area 0 PlaceFurniture  "EG_GROWTH_WALL_FIN"
	  Area 0 PlaceFurniture  "EG_GROWTH_WALL_FIN_2"
	  }
	  Area 1 PlaceFurniture  "EG_GROWTH_FLOOR"
	  }
  xForgetAfterBuilding = true
  strength2 = {
    100 BOULDER
    15 DIG
    100 HOSTILE_DIG
  }
  summonedElement = "EG_GORE_FLESHWRAITH"
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
  tryDestroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
}

"EG_GROWTH_WALL_BIOME"
{
  name = "flesh"
  viewId = { "eg_gore_wallgrowth" }
  blockMovement = true
  blockAllVision = true
  constructMessage = FILL_UP
  viewLayer = FLOOR_BACKGROUND
  wall = true
  fire = 50
  tickType = Effect Filter Area 0 Not FurnitureType "EG_GROWTH_WALL" {
	  Area 0 RemoveFurniture "EG_GROWTH_WALL"
	  ChooseRandom {
	  Area 0 PlaceFurniture  "EG_GROWTH_WALL_FIN"
	  Area 0 PlaceFurniture  "EG_GROWTH_WALL_FIN_2"
	  }
	  Area 200 GoreInfestation()
	  Area 1 PlaceFurniture  "EG_GROWTH_FLOOR"
	  }
  xForgetAfterBuilding = true
  strength2 = {
    100 BOULDER
    15 DIG
    100 HOSTILE_DIG
  }
  summonedElement = "EG_GORE_FLESHWRAITH"
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
  tryDestroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
}

"EG_GROWTH_WALL_FIN"
{
  name = "flesh"
  viewId = { "eg_gore_wallgrowth" }
  blockMovement = true
  blockAllVision = true
  constructMessage = FILL_UP
  viewLayer = FLOOR_BACKGROUND
  wall = true
  fire = 50
  xForgetAfterBuilding = true
  strength2 = {
    100 BOULDER
    15 DIG
    100 HOSTILE_DIG
  }
  summonedElement = "EG_GORE_FLESHWRAITH"
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
  tryDestroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
}

"EG_GROWTH_WALL_FIN_2"
{
  name = "flesh"
  viewId = { "eg_gore_wallgrowth_2" }
  blockMovement = true
  blockAllVision = true
  constructMessage = FILL_UP
  viewLayer = FLOOR_BACKGROUND
  wall = true
  fire = 50
  xForgetAfterBuilding = true
  strength2 = {
    100 BOULDER
    15 DIG
    100 HOSTILE_DIG
  }
  summonedElement = "EG_GORE_FLESHWRAITH"
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
  tryDestroyFX = { DESTROY_FURNITURE Rgb 90 38 51 255 }
}

"EG_GROWTH_EYEBALL"
{
  name = "eyeball"
  viewId = { "eg_gore_eye" }
  blockMovement = true
  fire = 50
  canHideHere = true
  lightEmission = 4.2
  strength = 30
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  canBuildOutsideOfTerritory = true
  eyeball = true
}

"EG_GROWTH_EYEBALL_UPGRADE"
{
  name = "eyeball"
  viewId = { "eg_gore_eye" }
  blockMovement = true
  fire = 50
  canHideHere = true
  lightEmission = 8.2
  strength = 30
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  canBuildOutsideOfTerritory = true
  eyeball = true
}

"EG_GROWTH_DOOR"
{
  name = "flesh door"
  viewId = { "eg_gore_door_ew" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  fire = 50
  strength = 160
  clickType = LOCK
  requiredSupport = { { { E W } } { { N S } {"eg_gore_door_ns"} } }
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}

"EG_GROWTH_GAS_TRAP"
{
  name = "violate tumor"
  viewId = { "eg_gore_violate_tumor" }
  entryType = Trap { Area 1 Chain { EmitGas "POISON_GAS" 0.2  Acid{15}}}
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}

"EG_GROWTH_GAS_TRAP_UPGRADE"
{
  name = "violate tumor"
  viewId = { "eg_gore_violate_tumor" }
  entryType = Trap { Area 2 Chain { EmitGas "POISON_GAS" 0.4  Acid{30}}}
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}
"EG_GROWTH_INERT_TANTACLE"
{
  name = "eg_gore tumor"
  viewId = { "eg_gore_tumor" }
  blockMovement = true
  tickType = Trap 1 {
    Def SummonGoreTentacle() {
      Message HIGH "The tentacle burst ot of tumor!"
      Summon "EG_GORE_TENTACLE" 1 20
    } End
    SummonGoreTentacle()
    SummonGoreTentacle()
    SummonGoreTentacle()
    SummonGoreTentacle()
  }
  strength = 40
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}

"EG_GROWTH_INERT_TANTACLE_UPGRADE"
{
  name = "eg_gore tumor"
  viewId = { "eg_gore_tumor" }
  blockMovement = true
  tickType = Trap 1 {
    Def SummonGoreTentacleUpgrade() {
      Message HIGH "The tentacle burst ot of tumor!"
      Summon "EG_GORE_TENTACLE" 1 20
	  Summon "EG_GORE_TUMOR" {2 4} 20
    } End
    SummonGoreTentacleUpgrade()
    SummonGoreTentacleUpgrade()
    SummonGoreTentacleUpgrade()
    SummonGoreTentacleUpgrade()
  }
  strength = 40
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}

"EG_GROWTH_PORTAL"
{
  name = "portal"
  viewId = { "eg_gore_portal" }
  strength = 40
  usageType = BuiltinUsageId PORTAL
  onBuilt = PORTAL
  fire = 50
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}

"EG_GROWTH_TUMOR"
{
  name = "tumor"
  viewId = { "eg_gore_tumor" }
  tickType = Trap 1 {
    Def SummonGoreTumor() {
      Message HIGH "Tumor bursts!"
      Summon "EG_GORE_TUMOR" {2 4} 20
    } End
    SummonGoreTumor()
    SummonGoreTumor()
    SummonGoreTumor()
    SummonGoreTumor()
  }
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}

"EG_GROWTH_TUMOR_UPGRADE"
{
  name = "tumor"
  viewId = { "eg_gore_tumor" }
  tickType = Trap 1 {
    Def SummonGoreTumorUpgrade() {
      Message HIGH "Tumor bursts!"
      Summon "EG_GORE_TUMOR" {4 8} 30
    } End
    SummonGoreTumorUpgrade()
    SummonGoreTumorUpgrade()
    SummonGoreTumorUpgrade()
    SummonGoreTumorUpgrade()
  }
  fire = 50
  warning = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  constructMessage = SET_UP
}

"EG_INERT_GROWTH_TUMOR"
{
  name = "tumor"
  viewId = { "eg_gore_tumor" }
  fire = 50
  warning = true
  constructMessage = SET_UP
}

"EG_WORKSHOP"
{
  name = "shaping womb"
  viewId = { "eg_gore_birthing" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 80
  requiresLight = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  usageFX = WORKSHOP
}

"EG_OFFERING"
{
  name = "offering"
  viewId = { "eg_offering" }
  usageTime = 5
  canHideHere = true
  strength = 100 
  canBuildOutsideOfTerritory = true
  canSilentlyReplace = true
  removeInstantly = true
}

"EG_GROUND_TORCH"
{
  name = "standing torch"
  viewId = { "eg_gore_torch_ground" }
  luxury = 0.1
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
  lightEmission = 8.2
}

"EG_TORCH_N"
{
  name = "torch"
  viewId = { "eg_gore_torch" }
  lightEmission = 8.2
  layer = CEILING
  viewLayer = TORCH1
  attachmentDir = N
  requiredSupport = { { { N } } }
  canBuildOutsideOfTerritory = true
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
}

"EG_TORCH_S" inherit "EG_TORCH_N"
{
  viewLayer = TORCH2
  attachmentDir = S
  requiredSupport = { { { S } } }
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
}

"EG_TORCH_E" inherit "EG_TORCH_S"
{
  attachmentDir = E
  requiredSupport = { { { E } } }
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
}

"EG_TORCH_W" inherit "EG_TORCH_E"
{
  attachmentDir = W
  requiredSupport = { { { W } } }
  builtOver = { "EG_GROWTH_FLOOR_FINISH_2"  "EG_GROWTH_FLOOR" "EG_GROWTH_FLOOR_FINISH" "EG_GROWTH_FLOOR_GROUND"}
}

"MOUNTAIN1_OVERGROWN" inherit "MOUNTAIN"
{
  viewId = { "mountain1_overgrown" }
  fire = 150
  burntRemains = "MOUNTAIN"

}

"MOUNTAIN2_OVERGROWN" inherit "MOUNTAIN2"
{
  viewId = { "mountain2_overgrown" }
  fire = 150
  burntRemains = "MOUNTAIN2"
}

"SANDSTONE_OVERGROWN" inherit "SANDSTONE"
{
  viewId = { "sandstone_overgrown" }
  fire = 150
  burntRemains = "SANDSTONE"
}

"DUNGEON_WALL_OVERGROWN" inherit "DUNGEON_WALL"
{
  viewId = { "mountain1_overgrown" }
  fire = 150
  burntRemains = "DUNGEON_WALL"
}

"DUNGEON_WALL2_OVERGROWN" inherit "DUNGEON_WALL2"
{
  viewId = { "mountain2_overgrown" }
  fire = 150
  burntRemains = "DUNGEON_WALL2"
}

"SANDSTONE_WALL_OVERGROWN" inherit "SANDSTONE_WALL"
{
  viewId = { "sandstone_overgrown" }
  fire = 150
  burntRemains = "SANDSTONE_WALL"
}

"RED_SANDSTONE_OVERGROWN" inherit "RED_SANDSTONE"
{
  viewId = { "red_sandstone_overgrown" }
  fire = 150
  burntRemains = "RED_SANDSTONE"
}

"GLACIER_OVERGROWN" inherit "GLACIER"
{
  viewId = { "glacier_overgrown" }
  fire = 150
  burntRemains = "GLACIER"
}

"MOUNTAIN_SKULLS_OVERGROWN" inherit "MOUNTAIN_SKULLS"
{
  viewId = { "mountain_skulls_overgrown" }
  fire = 150
  burntRemains = "MOUNTAIN_SKULLS"
}

"WALL_SKULLS_OVERGROWN" inherit "WALL_SKULLS"
{
  viewId = { "mountain_skulls_overgrown" }
  fire = 150
  burntRemains = "WALL_SKULLS"
}

"CASTLE_WALL_OVERGROWN" inherit "CASTLE_WALL"
{
  viewId = { "eg_castle_wall" }
  fire = 150
  burntRemains = "CASTLE_WALL"
}

"ARCHER_WALL_OVERGROWN" inherit "ARCHER_WALL"
{
  viewId = { "eg_archer_wall" }
  fire = 150
  burntRemains = "ARCHER_WALL"
}

"SNOW_WALL_OVERGROWN" inherit "SNOW_WALL"
{
  viewId = { "eg_snow_wall" }
  fire = 150
  burntRemains = "SNOW_WALL"
}

"WOOD_WALL_OVERGROWN" inherit "WOOD_WALL"
{
  viewId = { "eg_wood_wall" }
  fire = 150
  burntRemains = "WOOD_WALL"
}

"MUD_WALL_OVERGROWN" inherit "MUD_WALL"
{
  viewId = { "eg_mud_wall" }
  fire = 150
  burntRemains = "MUD_WALL"
}

"RUIN_WALL_OVERGROWN" inherit "RUIN_WALL"
{
  viewId = { "eg_ruin_wall" }
  fire = 150
  burntRemains = "RUIN_WALL"
}

"ADAMANTIUM_ORE_OVERGROWN" inherit "ADAMANTIUM_ORE"
{
  viewId = { "adamantium_ore_overgrown" }
  fire = 150
  burntRemains = "ADAMANTIUM_ORE"
}

"ADOXIUM_ORE_OVERGROWN" inherit "ADOXIUM_ORE"
{
  viewId = { "adoxium_ore_overgrown" }
  fire = 150
  burntRemains = "ADOXIUM_ORE"
}

"INFERNITE_ORE_OVERGROWN" inherit "INFERNITE_ORE"
{
  viewId = { "infernite_ore_overgrown" }
  onBuilt = SET_ON_FIRE
  fire = 150
  burntRemains = "INFERNITE_ORE"
}

"IRON_ORE_OVERGROWN" inherit "IRON_ORE"
{
  viewId = { "iron_ore_overgrown" }
  fire = 150
  burntRemains = "IRON_ORE"
}

"STONE_OVERGROWN" inherit "STONE"
{
  viewId = { "stone_overgrown" }
  fire = 150
  burntRemains = "STONE"
}

"GOLD_ORE_OVERGROWN" inherit "GOLD_ORE"
{
  viewId = { "gold_ore_overgrown" }
  fire = 150
  burntRemains = "GOLD_ORE"
}

"TREE_OVERGROWN"
{
  name = "tree"
  viewId = { "eg_gore_tree" }
  canHideHere = true
  blockVision = { NORMAL }
  destroyedRemains = "TREE_TRUNK_OVERGROWN"
  burntRemains = "BURNT_TREE"
  dissolveTo = "BURNT_TREE"
  strength2 = {
    100 BOULDER
    70 CUT
  }
  fire = 100
  itemDrop = {{{{"WoodPlank"} 1 { 8 14 }}}}
  summonedElement = "EG_GORE_FLESHWRAITH"
  tryDestroyFX = { WOOD_SPLINTERS }
}

"EG_MINOR_SHRINE"
{
  name = "blessed shrine"
  viewId = { "eg_minor_shrine" }
  blockMovement = true
  lastingEffect = ALLY EG_BLESSED_GROWING 3 # ALLY/ENEMY LastingEffect radius
  fire = 50
  canHideHere = true
  strength = 80
  maxTraining = {
    BLESSED_FLESH 99
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}

"GIANT_MUSHROOM_OVERGROWN" inherit "TREE_OVERGROWN"
{
  viewId = { "eg_gore_giant_mushroom" }
  name = "giant treeshroom"
  clearFogOfWar = true
  blockVision = {}
}

"CACTUS1_OVERGROWN" inherit "TREE_OVERGROWN"
{
  viewId = { "eg_gore_cactus" }
  name = "cactus"
  destroyedRemains = none
  summonedElement = none
}

"TREE_TRUNK_OVERGROWN"
{
  name = "tree trunk"
  viewId = { "eg_gore_treecut" }
  canSilentlyReplace = true
}

"GORE_KRAKEN_WATER" inherit "STONE_BRIDGE"
{
  tickType = Effect {
    SummonEnemy "EG_GORE_KRAKEN" 1 none
    RemoveFurniture "GORE_KRAKEN_WATER"
  }
}

"EG_GORE_KRAKEN_MECHANIC"
{
  name = "kraken mechanic"
  layer = CEILING
  canHideHere = true
  tickType = Effect Filter Frequency 1 {
    FirstSuccessful {
      Filter Not Area 1 Not CreatureId "EG_GORE_KRAKEN"{
        RemoveFurniture "EG_GORE_KRAKEN_MECHANIC"
        PlaceFurniture "EG_GORE_KRAKEN_MECHANIC_TENDRIL"
      }
      Filter Not Area 1 Not CreatureId "EG_GORE_KRAKEN_TENDRIL"{
        RemoveFurniture "EG_GORE_KRAKEN_MECHANIC"
        PlaceFurniture "EG_GORE_KRAKEN_MECHANIC_TENDRIL"
    }}}
}

"EG_GORE_KRAKEN_MECHANIC_TENDRIL"
{
  name = "kraken mechanic"
  layer = CEILING
  canHideHere = true
  tickType = Effect Filter Frequency 1 {
    RemoveFurniture "EG_GORE_KRAKEN_MECHANIC_TENDRIL"
    Summon "EG_GORE_KRAKEN_TENDRIL" {1} 50
  }
}

"GORE_KRAKEN_BRIDGE"
{
  name = "water"
  viewId = { "water" }
  overrideMovement = true
  fire = 50
  removeNonFriendly = true
  removeWithCreaturePresent = false
  bridge = true
  canBuildOutsideOfTerritory = true
}

##################################FISHMEN##################################

"FTD_FISHTRAP"
{
  name = "fishtrap"
  viewId = { "ftd_fishtrap" }
  canBuildOutsideOfTerritory = true
  luxury = 1.0
  populationIncrease = {1 none}
  builtOver = {"WATER" "SHALLOW_WATER1" "SHALLOW_WATER2"}
}

"FTD_DEEP_ONE_EFFIGY" inherit "DEMON_SHRINE"
{
  name = "effigy"
  viewId = { "ftd_deep_one_effigy" }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}

"FTD_DEEP_ONE_STATUE"
{
  name = "stone statue"
  viewId = { "ftd_deep_one_statue" }
  blockMovement = true
  canHideHere = true
  luxury = 0.7
  strength = 50
  populationIncrease = {1 4}
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}

"FTD_DEEP_ONE_STATUE_GOLD"
{
  name = "gold statue"
  viewId = { "ftd_deep_one_statue_gold" }
  blockMovement = true
  canHideHere = true
  luxury = 0.7
  strength = 50
  populationIncrease = {1 none}
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}

"FTD_DEEP_ONE_STATUE_TRAP"
{
  name = "stone statue trap"
  viewId = { "ftd_deep_one_statue" }
  blockMovement = true
  tickType = Trap 1 {
    Def SummonDEEPGOLEM() {
      Message HIGH "The gargoyle comes to life!"
      Summon "FTD_DEEP_ONE_GOLEM" 1 20
    } End
    SummonDEEPGOLEM()
    SummonDEEPGOLEM()
    SummonDEEPGOLEM()
    SummonDEEPGOLEM()
  }
  strength = 40
  warning = true
  constructMessage = SET_UP
}

"FTD_CRUSTACEAN_LURE"
{
  name = "crustacean lure"
  viewId = { "ftd_food_offering" }
  tickType = Effect Area 3 Chain {
  Filter Not Or {CreatureId "FTD_CRUSTACEAN_CRAB" CreatureId "FTD_CRUSTACEAN_LOBSTER"} {
  Filter Not Enemy Lasting 1 FTD_RAVENOUS
  Filter Enemy Lasting 1 FTD_STARVED  }}
  blockMovement = true
  canHideHere = true
  strength = 100
  usageType = UsageEffect "eat from" Chain {
    Filter Or {CreatureId "FTD_CRUSTACEAN_CRAB" CreatureId "FTD_CRUSTACEAN_LOBSTER"}
    CreatureMessage { "eat a raw flesh" "eats a raw flesh"}
    Lasting SATIATED
  }
}

"FTD_FISH_BUTCHER" inherit "JEWELLER"
{
  viewId = { "ftd_fish_barrel" }
  name = "fish barrel"
  usageFX = none
  diningFurniture = FTD_FISH_BUTCHER
  tickType = Effect Chain {
	Chance 0.0001 DropItems {"ftd_shell"} {1}
    Chance 0.0001 SummonEnemy "FTD_RAT_PARASITE" {1 4} none	
  }
}

"FTD_MUD"
{
  name = "mud"
  viewId = { "mud" }
  layer = FLOOR
}

"FTD_MUD_BRIDGE" inherit "BRIDGE"
{
  viewId = { "mud_wall" ColorId GRAY }
  name = "bridge"
}

"FTD_PUDDLE"
{
  name = "water"
  viewId = { "water" }
  freezeTo = "FTD_ICE"
  layer = FLOOR
  summonedElement = "WATER_ELEMENTAL"
  walkIntoFX = { WATER_SPLASH Rgb 82 148 255 255 }
}

"FTD_ICE"
{
  name = "ice"
  viewId = { "ice" }
  layer = FLOOR
  meltInfo = { "FTD_PUDDLE" }
}
#####################################COSMOS###########################################

"CS_HILL"
{
  name = "hill"
  viewId = { "cs_sorch_hill_" }
  lightEmission = 2.2
  layer = GROUND
}

"CS_HILL_CRYSTAL"
{
  name = "hill"
  viewId = { "cs_sorch_hill_crystal_" }
  lightEmission = 2.2
  layer = GROUND
}



"CS_ALTAR"
{
  name = "Genesis Altar"
  viewId = { "cs_crystal_altar_ready" }
  tickType = Effect Filter Flag "cosmos_05" {
	  ChooseRandom{ 
	  Chain{ 
	  Summon "CS_COSMOS_LIGHT" {2 4} none}
	  Chain{ 
	  Summon "CS_COSMOS_LIGHT" {2 4} none}
	  Chain{ 
	  Summon "CS_COSMOS_LIGHT" {2 4} none}
	  Chain{ 
	  Summon "CS_COSMOS_LIGHT" {2 4} none}
	  
	  Chain{ 
	  Summon "CS_STAR_VAMPIRE" {1 2} none}
	  Chain{ 
	  Summon "CS_STAR_VAMPIRE" {1 2} none}
	  
	  Chain{ 
	  Summon "CS_COSMOS_BEAST" {1} none}}
	  resetcosmos()}
  usageType = UsageEffect "use" {PlayerMessage CRITICAL "drain creatures to recieve help."}
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  itemDrop = {{{{"CS_STAR_EYE"} 1 { 1 }}}}
   }

"CS_MGHEYE_ORE" inherit "MOUNTAIN2"
{
  name = "mgehye ore"
  viewId = { "cs_crystal_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"CS_Mgehye"} 1 { 16 28 }}}}
  strength2 = {
    200 BOULDER
    220 DIG
    200 HOSTILE_DIG
  }
  lightEmission = 8.2
  summonedElement = "CS_ELEMENTAL"
}

"CS_DRAINED_CORPSE_HUMAN"
{
  name = "Drained"
  viewId = { "cs_drained_human_furniture" }
  blockMovement = true
  blockVision = { NORMAL }
  strength2 = {
    30 BOULDER
    30 DIG
    30 HOSTILE_DIG
  }
  lightEmission = 4.1
  fire = 100
  canBuildOutsideOfTerritory = true
  xForgetAfterBuilding = true
  itemDrop = {{{{"CS_Mgehye"} 1 { 8 14 }}}}
  summonedElement = "CS_ELEMENTAL"
  tryDestroyFX = { ROCK_SPLINTERS Rgb 220 210 180 255 }
}

"CS_DRAINED_CORPSE_ELF" inherit "CS_DRAINED_CORPSE_HUMAN"
{
  viewId = { "cs_drained_elf_furniture" }
}

"CS_DRAINED_CORPSE_GREENSKIN" inherit "CS_DRAINED_CORPSE_HUMAN"
{
  viewId = { "cs_drained_greenskin_furniture" }
}

"CS_DRAINED_CORPSE_DWARF" inherit "CS_DRAINED_CORPSE_HUMAN"
{
  viewId = { "cs_drained_dwarf_furniture" }
}

"CS_DRAINED_CORPSE_BEAST" inherit "CS_DRAINED_CORPSE_HUMAN"
{
  viewId = { "cs_drained_beast_furniture" }
}

"CS_TREE"
{
  name = "tree"
  viewId = { "cs_tree" }
  canHideHere = true
  blockVision = { NORMAL }
  destroyedRemains = "TREE_TRUNK"
  burntRemains = "BURNT_TREE"
  dissolveTo = "BURNT_TREE"
  lightEmission = 8.2
  strength2 = {
    100 BOULDER
    70 CUT
  }
  tickType = Effect Chance 0.002 {
    Filter Night SoundEffect { "OWL_AMBIENT" 0.2 }
    Filter Not Night SoundEffect { "SONGBIRD_AMBIENT" 0.2 }
  }
  fire = 100
  itemDrop = {{{{"WoodPlank"} 1 { 8 14 }}}}
  summonedElement = "ENT"
  tryDestroyFX = { ROCK_SPLINTERS Rgb 220 210 180 255 }
}

"CS_BUSH_CRYSTAL"
{
  name = "crystals"
  viewId = { "cs_crystal_bush" }
  canHideHere = true
  blockVision = { NORMAL }
  lightEmission = 8.2
  strength2 = {
    100 BOULDER
    70 CUT
  }
  tickType = Effect Chance 0.002 {
  }
  fire = 100
  itemDrop = {{{{"CS_Mgehye"} 1 { 4 7 }}}}
  summonedElement = "ENT"
  tryDestroyFX = { ROCK_SPLINTERS Rgb 220 210 180 255 }
}

##################################Chaos##################################

"CHAOS_FORGE"
{
  name = "chaos forge"
  viewId = { "chaos_forge" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  strength = 80
  requiresLight = true
  tickType = Effect Area 1 EmitGas "CHAOS_CHAOS_MIASMA" 0.4
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
  usageFX = FORGE
  usageSound = {"FORGE_USAGE" 0.2}
}

"CHAOS_WORKSHOP"
{
  name = "workshop"
  viewId = { "chaos_workshop" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 80
  requiresLight = true
  usageFX = WORKSHOP
  usageSound = {"WORKSHOP_USAGE" 0.2}
  usagePredicate = Area 1 Not FurnitureType "ENCHANTED_WATER"
}

"CHAOS_JEWELER"
{
  name = "jeweller"
  viewId = { "chaos_jeweller" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 40
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  usagePredicate = Area 1 Not FurnitureType "MAGMA"
  usageFX = LAVA_JEWELLER
}


"CHAOS_MOUNTAIN" inherit "MOUNTAIN2"
{
  name = "corrupted rock"
  viewId = { "chaos_mountain_place" }
  lightEmission = 2.2
  summonedElement = "CHAOS_SPAWN"
  destroyFX = { ROCK_CLOUD Rgb 255 200 255 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 255 200 255 255 }
}

"CHAOS_HIDDEN_DOOR"
{
  name = "corrupted rock"
  viewId = { "chaos_mountain_place" }
  blockAllVision = true
  strength = 1
  #viewLayer = FLOOR_BACKGROUND
  entryType = Effect {
      Message NORMAL "It was just an illusion!"
      Fx { TELEPORT_OUT }
      DestroyWalls BASH
  }
}

"CHAOS_WALL" inherit "DUNGEON_WALL"
{
  viewId = { "chaos_wall_place" }
  builtOver = {"CHAOS_MOUNTAIN"}
  lightEmission = 2.2
  summonedElement = "CHAOS_SPAWN"
  destroyFX = { ROCK_CLOUD Rgb 255 200 255 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 255 200 255 255 }
}

"CHAOS_FLOOR"
{
  name = "corrupted floor"
  viewId = { "chaos_floor" }
  lightEmission = 2.2
  layer = GROUND
}

"CHAOS_MAGMA" {
  name = "corrupted magma"
  viewId = { "magma" }
  layer = GROUND
  entryType = Magma
  droppedItems = { "burns" "burn" }
  lightEmission = 8.2
  defaultBridge = "STONE_BRIDGE"
  summonedElement = "CHAOS_SPAWN"
  freezeTo = "FLOOR"
  fillPit = "CHAOS_MAGMA"
  canSilentlyReplace = true
  tickType = Effect {
    Area 1 Chance 0.03 SetFurnitureOnFire
    Chance 0.1 SetFurnitureOnFire
    Chance 0.002 SoundEffect { "LAVA_AMBIENT" 0.2 }
  }
  movementSet = {
    traits = { FLY }
    forcibleTraits = { WALK }
  }
}

##################################Forgotten##################################

"FP_ALTAR_OLD"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_empty" }
  canBuildOutsideOfTerritory = true
  tickType = Effect Chain{ 	RemoveFurniture "FP_ALTAR_OLD" 
							ChooseRandom {
							PlaceFurniture "FP_ALTAR_OLD_BEAST"
							PlaceFurniture "FP_ALTAR_OLD_BLESS"
							PlaceFurniture "FP_ALTAR_OLD_SWORD"
							}
						}
}

"FP_ALTAR_OLD_BEAST"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_beast" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
		    SetFlag "lore_flesh_shaper" true
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_05" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            } 
			Filter Flag "gore_05" 
			{
						     Area 1 RemoveFurniture "EG_OFFERING"
							 Summon "BB_BEAST" {1 3} none
							 Summon "BB_BEAST_F" {1 3} none
							 Summon "BB_BEAST_BRUTE" {0 1} none
							 Summon "BB_BEAST_BRUTE_F" {0 1} none
						     Area 0 RemoveFurniture "FP_ALTAR_OLD_BEAST"
						     Area 0 PlaceFurniture "FP_ALTAR_OLD_DEAD_BEAST"
            } 
        }
	}
  destroyedRemains = "FP_ALTAR_OLD_DEAD_BEAST"
}

"FP_ALTAR_OLD_BLESS"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_bless" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
		    SetFlag "lore_flesh_shaper" true
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_05" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            } 
			Filter Flag "gore_05" 
			{
						     Area 1 RemoveFurniture "EG_OFFERING"
							 Permanent FP_ANCIENT_POWER
							 AddSpellSchool "FP_ANCIENT_MAGIC"
						     Area 0 RemoveFurniture "FP_ALTAR_OLD"
						     Area 0 PlaceFurniture "FP_ALTAR_OLD_DEAD_BLESS"
            } 
        }
	}
  destroyedRemains = "FP_ALTAR_OLD_DEAD_BLESS"
}

"FP_ALTAR_OLD_SWORD"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_sword" }
  usageTime = 1
  strength = 100
  hidesItems = true
  canHideHere = true
  usageType = UsageEffect "use" {
   Chain 
        { 
		    SetFlag "lore_flesh_shaper" true
            resetgore()
            Area 1 Filter 
			FurnitureType "EG_OFFERING" Chain { countgore() }
			Filter Not Flag "gore_05" 
			{
			PlayerMessage CRITICAL "Bring five offerings and put them around an altar."
            } 
			Filter Flag "gore_05" 
			{
						     Area 1 RemoveFurniture "EG_OFFERING"
							 DropItems {"Fp_Shard_Knife"} {1}
						     Area 0 RemoveFurniture "FP_ALTAR_OLD_SWORD"
						     Area 0 PlaceFurniture "FP_ALTAR_OLD_DEAD_SWORD"
            } 
        }
	}
  destroyedRemains = "FP_ALTAR_OLD_DEAD_SWORD"
}

"FP_ALTAR_OLD_DEAD"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_empty" }
  hidesItems = true
  canHideHere = true
}

"FP_ALTAR_OLD_DEAD_BEAST"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_empty" }
  hidesItems = true
  canHideHere = true
}

"FP_ALTAR_OLD_DEAD_BLESS"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_empty" }
  hidesItems = true
  canHideHere = true
}

"FP_ALTAR_OLD_DEAD_SWORD"
{
  name = "Ancient Altar"
  viewId = { "ruin_altar_empty" }
  hidesItems = true
  canHideHere = true
}

"FP_MUD_SPAWN"
{
  name = "mud"
  viewId = { "fp_mud_01" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
  tickType = Effect Chain{ 	RemoveFurniture "FP_MUD_SPAWN" 
							ChooseRandom {
							PlaceFurniture "FP_MUD_01"
							PlaceFurniture "FP_MUD_01"
							PlaceFurniture "FP_MUD_01"
							PlaceFurniture "FP_MUD_01"
							PlaceFurniture "FP_MUD_02"
							PlaceFurniture "FP_MUD_03"
							PlaceFurniture "FP_MUD_04"
							PlaceFurniture "FP_MUD_05"
							}
						}
}

"FP_MUD_01"
{
  name = "mud"
  viewId = { "fp_mud_01" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
}

"FP_MUD_02"
{
  name = "mud"
  viewId = { "fp_mud_02" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
}

"FP_MUD_03"
{
  name = "mud"
  viewId = { "fp_mud_03" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
}

"FP_MUD_04"
{
  name = "mud"
  viewId = { "fp_mud_04" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
}

"FP_MUD_05"
{
  name = "mud"
  viewId = { "fp_mud_05" }
  layer = FLOOR
  canBuildOutsideOfTerritory = true
}



"FP_TORCH_ON_THE_WALL_CONTROLLER"
{
  name = "torch generator"
  viewId = { "torch" }
  lightEmission = 8.2
  layer = CEILING
  xForgetAfterBuilding = true
  canBuildOutsideOfTerritory = true
  tickType = Effect {
    FirstSuccessful {
  ### one square to the right ###
      Filter Translate {1 0} FurnitureType "RUIN_WALL" {PlaceFurniture "TORCH_E" Area 2 RemoveFurniture "FP_TORCH_ON_THE_WALL_CONTROLLER"}
  ### one square to the left ###
      Filter Translate {-1 0} FurnitureType "RUIN_WALL" {PlaceFurniture "TORCH_W" Area 2 RemoveFurniture "FP_TORCH_ON_THE_WALL_CONTROLLER"}
  ### one square to the down ###
      Filter Translate {0 1} FurnitureType "RUIN_WALL" {PlaceFurniture "TORCH_S" Area 2 RemoveFurniture "FP_TORCH_ON_THE_WALL_CONTROLLER"}
  ### one square to the up ###
      Filter Translate {0 -1} FurnitureType "RUIN_WALL" {PlaceFurniture "TORCH_N" Area 2 RemoveFurniture "FP_TORCH_ON_THE_WALL_CONTROLLER"}
    }
  }
}